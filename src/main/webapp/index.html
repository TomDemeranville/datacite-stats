<html>
<head>
<title>Datacite statistics</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Job Manager</title>
<link href="api/webjars/bootstrap/3.2.0/css/bootstrap.min.css"
	rel="stylesheet">
<link href='api/webjars/bootstrap-slider/4.0.1/css/bootstrap-slider.css' rel='stylesheet' />
<link href="js/contour/contour.css" rel="stylesheet">
<link href='css/typeahead-bootstrap.css' rel='stylesheet' />
<link href='css/datacite-stats.css' rel='stylesheet' />

</head>
<body>
	<div class="ajaxmodal"></div>
	<div class="container">
		<div class="stats-header">
			<h1>Datacite DOI Resolution Stats</h1>
			<h4>
				Use this site to query and view <small><a href="#" data-toggle="modal" data-target="#apidocs">or
						read the API Docs</a></small>
			</h4>
			<div class="row">
				<div class="datacentres col-md-6"></div>
				<div class="col-md-3" style="padding-top:0.5em">
					<span id="dateslider" style="display:none;"></span>
				</div>
				<div class="btn-group btn-toggle col-md-3">
					<button class="btn btn-primary active" id="monthly-btn">Monthly</button>
					<button class="btn btn-default" id="daily-btn">Daily</button>
				</div>
			</div>
		</div>
		<h2 id="linecharttitle" class="tit-head">
			Loading, please wait...		
		</h2>
		
		
		<div id="linechart"></div>

		<h2 id="linecharttitle" class="tit-head">
			<img src="images/ajax-loader.gif" style="display:none" id="hitspinner"> Top 100 DOIs <small><span id="daterange"> </span></small>
				
		</h2>
		<div class="table-responsive" style="padding-bottom: 2em">
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th width="67%">DOI</th>
						<th width="33%">Count</th>
					</tr>
				</thead>
			</table>
			<div class="bodycontainer scrollable">
				<table class="table table-striped table-condensed table-scrollable">
					<tbody id="hitstable">
					</tbody>
				</table>
			</div>
		</div>
	</div>

<div class="modal fade" id="apidocs" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title">API Documentation</h4>
      </div>
      <div class="modal-body">
		<p>The RESTful API enables daily, monthly and Top DOI queries.  Daily and monthly queries can be restricted to individual DOI prefixes and further broken down into per-DOI stats.</p>
		<p>Results are returned in JSON by default but all support "text/csv" or "application/xml" content types.  Simply set the Accept header.</p>
		<h3>Examples</h3>
		<pre>
Return the top 100 DOIs of all time and their hit counts
`api/stats/hits?limit=100`

Return the top 1000 DOIs with the prefix 10.1234
`api/stats/hits/10.1234?limit=1000`

Return the top 1000 DOIs with the prefix 10.1234 between two dates
`api/stats/hits/10.1234?limit=1000&from=2012-01-01&to=2014-01-01`

Return daily stats for all datacite
`api/stats/daily`

Return monthly stats for all datacite
`api/stats/monthly`

Return dailystats for 10.1234
`api/stats/daily/10.1234`

Return monthly stats for 10.1234 as a MAP
`api/stats/daily/10.1234?map`

Return monthly stats for 10.1234 broken down by doi
`api/stats/daily/10.1234?breakdown=true`

Adding a ?csv param to any of the above will return CSV
`api/stats/hits?limit=100&from=2013-03-01&to=2014-09-01&csv`


In addition, a map of DOI prefixes -> Datacentre names is provided at
`api/dois/prefixes`
		</pre>
	</div>
	</div>
</div>
</div>
	<script src="api/webjars/jquery/1.11.1/jquery.js"></script>
	<script src="api/webjars/bootstrap/3.2.0/js/bootstrap.js"></script>
	<script src="api/webjars/d3js/3.4.11/d3.js" charset="utf-8"></script>
	<script src="api/webjars/lodash/2.4.1-6/lodash.js"></script>
	<script src="api/webjars/bootstrap-slider/4.0.1/bootstrap-slider.js"></script>
	<script src="js/contour/contour.js" charset="utf-8"></script>
	<script src="js/drawable.js"></script>
	<script src="api/webjars/momentjs/2.8.3/moment.js"></script>
	<script src="api/webjars/typeaheadjs/0.9.3/typeahead.min.js"></script>
	<script src="js/datacite-stats.js"></script>
	
</body>
</html>